<%= render "shared/validation_errors", resource: @gig %>

<%= form_for @gig do |f| %>
  <div class="form-group">
    <%= f.label :summary %>
    <%= f.text_field :summary, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :location %>
    <%= f.text_field :location, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :pay %>
    <%= f.text_field :pay, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :starts_at, "Start Time" %>
    <%= f.datetime_select :starts_at, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :ends_at, "End Time" %>
    <%= f.datetime_select :ends_at, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= hidden_field_tag :double_confirmation, false %>
    <%= f.submit "Save", class: "btn btn-default" %>
  </div>
<% end %>

<% if @conflicts.present? %>
  <%= render "update_gig_modal", conflicts: @conflicts %>

  <script type="text/javascript">
    $("#update-gig-modal").modal("show");

    $("#confirm-button").click(function() {
      $("#update-gig-modal").modal("hide");
      $("#double_confirmation").val(true);
      $(".edit_gig").submit();
    });
  </script>
<% end %>
